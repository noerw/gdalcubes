<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>gdalcubes: gdalcubes::collection_format Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="gdalcubes_logo_mini.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">gdalcubes
   </div>
   <div id="projectbrief">Earth observation data cubes from GDAL image collections</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classgdalcubes_1_1collection__format.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classgdalcubes_1_1collection__format-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">gdalcubes::collection_format Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="collection__format_8h_source.html">collection_format.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0e6023b7f65d579b730037693882b519"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0e6023b7f65d579b730037693882b519"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>collection_format</b> (std::string filename)</td></tr>
<tr class="separator:a0e6023b7f65d579b730037693882b519"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42af2b3a64bb6baec57d092b002dd967"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a42af2b3a64bb6baec57d092b002dd967"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>is_null</b> ()</td></tr>
<tr class="separator:a42af2b3a64bb6baec57d092b002dd967"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a369c5a5453a97a835a76a825f1163a4e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgdalcubes_1_1collection__format.html#a369c5a5453a97a835a76a825f1163a4e">load_file</a> (std::string filename)</td></tr>
<tr class="separator:a369c5a5453a97a835a76a825f1163a4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3e4f4f7b8f2db47194164749d1232ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgdalcubes_1_1collection__format.html#ab3e4f4f7b8f2db47194164749d1232ba">load_string</a> (std::string jsonstr)</td></tr>
<tr class="memdesc:ab3e4f4f7b8f2db47194164749d1232ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a collection format from a JSON string.  <a href="#ab3e4f4f7b8f2db47194164749d1232ba">More...</a><br /></td></tr>
<tr class="separator:ab3e4f4f7b8f2db47194164749d1232ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98dbd2984ff529cb7317b8f36ab084a0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgdalcubes_1_1collection__format.html#a98dbd2984ff529cb7317b8f36ab084a0">validate</a> ()</td></tr>
<tr class="separator:a98dbd2984ff529cb7317b8f36ab084a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a643f41dcfd51fffe9471bb1567f2a156"><td class="memItemLeft" align="right" valign="top">nlohmann::json &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgdalcubes_1_1collection__format.html#a643f41dcfd51fffe9471bb1567f2a156">json</a> ()</td></tr>
<tr class="separator:a643f41dcfd51fffe9471bb1567f2a156"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a3b83d7592bb81d2f7bdaf6945c82c019"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3b83d7592bb81d2f7bdaf6945c82c019"></a>
static std::map&lt; std::string, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>list_presets</b> ()</td></tr>
<tr class="separator:a3b83d7592bb81d2f7bdaf6945c82c019"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The image collection format describes rules how image collections can be build from a simple list of files / URLs. It defines</p><ul>
<li>how to identify which files correspond to the same image,</li>
<li>the bands of the image collection and in which files they are stored,</li>
<li>and how to derive the date / time from images. The format is specified in a simple JSON document with regular expressions on filenames / URLs. gdalcubes comes with a set of predefined collection formats for typical Earth observation datasets including Sentinel 2, Landsat 8, and SRTM. </li>
</ul>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a643f41dcfd51fffe9471bb1567f2a156"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">nlohmann::json&amp; gdalcubes::collection_format::json </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Apply the collection format to a list of filenames or other GDALataset descriptors and build the basic image collection data structure in an SQLite database. This function will not open any files. </p><dl class="section note"><dt>Note</dt><dd>Reading date / time from GDALInfo metadata is currently not implemented </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">descriptors</td><td>list of GDAL dataset descriptors (typically filenames or URLs but can sometimes be database object descriptors or similar) </td></tr>
    <tr><td class="paramname">db_filename</td><td>file name of the created result database, if empty string, keep a temporary database, which might be stored in memory. </td></tr>
    <tr><td class="paramname">strict</td><td>if true, the creation will cancel as soon as one descriptor produces an error. If false such filles will be skipped. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SQLite handle of the resulting database, this must eventually be closed by the calling function using <code>sqlite3_close(db)</code> Returns the raw json document. </dd>
<dd>
JSON object from json library (see <a href="https://github.com/nlohmann/json">https://github.com/nlohmann/json</a>) </dd></dl>

</div>
</div>
<a class="anchor" id="a369c5a5453a97a835a76a825f1163a4e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void gdalcubes::collection_format::load_file </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Construct a collection format from a JSON file</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab3e4f4f7b8f2db47194164749d1232ba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void gdalcubes::collection_format::load_string </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>jsonstr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct a collection format from a JSON string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">jsonstr</td><td>JSON string </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a98dbd2984ff529cb7317b8f36ab084a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gdalcubes::collection_format::validate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Validates the formal structure of the JSON format description. Validation is only formal, i.e. formal such that the presence of mandatory properties is checked but not the meaning of their values. </p><dl class="section note"><dt>Note</dt><dd><b>NOT YET IMPLEMENTED</b> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>true, if the JSON format description is valid, false otherwise. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/<a class="el" href="collection__format_8h_source.html">collection_format.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacegdalcubes.html">gdalcubes</a></li><li class="navelem"><a class="el" href="classgdalcubes_1_1collection__format.html">collection_format</a></li>
    <li class="footer">Generated on Thu Oct 24 2019 09:55:25 for gdalcubes by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
